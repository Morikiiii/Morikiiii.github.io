


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>  C#学习开始 - 设计模式专题 |    Morikiiii | &#39;ColdDog&#39; Space</title>
  <meta name="description" content="Morikiiii Not Human">
  <!-- 标签页图标 -->
  
  <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/social-60/512/flicker__icon_social__media-512.png" type="image/x-icon">
  

  <!-- 图标库 -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
  <!-- 动画库 -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/css/animate.css"/>
  
  <!-- css文件 -->
  
<link rel="stylesheet" href="/css/white.css">

  <!-- 代码高亮 -->
  
    
      
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.1/styles/github.css">

    
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>

<div class="menu-outer">
    <div class="menu-inner">
      <div class="menu-site-name  animate__animated  animate__fadeInUp">
        <a href="/">
          Morikiiii | &#39;ColdDog&#39; Space
        </a>
        
      </div>
      <div class="menu-group">
        <ul class="menu-ul">
        
          <a href="/" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              HOME
            </li>
          </a>
        
          <a href="/archives" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              BLOG
            </li>
          </a>
        
        
        
          <li class="menu-li animate__animated  animate__fadeInUp" id="mobile-menu">
            <i class="ri-menu-line"></i>
          </li>
        
        </ul>

      </div>

    </div>
</div>
<div id="mobile-main" class="animate__animated  animate__fadeIn">
  <div class="mobile-menu-inner">
    <div class="mobile-menu-site-name animate__animated  animate__fadeInUp">
      <a href="/">
        Morikiiii | &#39;ColdDog&#39; Space
      </a>
    </div>
    <div class="mobile-menu-group" id="mobile-close">
      <i class="ri-close-line"></i>
    </div>

  </div>

  <div class="mobile-menu-div">
  
    <a href="/" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>HOME</span>
      </div>
    </a>
  
    <a href="/archives" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>BLOG</span>
      </div>
    </a>
  
  
  </div>


</div>

<div class="body-outer">
  <div class="body-inner">
    
<article class="post-inner">
  <div class="post-content-outer">
    <div class="post-intro">
      <div class="post-title animate__animated  animate__fadeInUp">C#学习开始 - 设计模式专题</div>
      <div class="meta-intro animate__animated  animate__fadeInUp">9月 04 2022</div>
      
    </div>
    <div class="post-content-inner">
      <div class="post-content-inner-space">

      </div>
      <div class="post-content-main animate__animated  animate__fadeInUp">
        <!-- top型目录 -->
        
        <h2 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h2><h4 id="委托的定义和使用："><a href="#委托的定义和使用：" class="headerlink" title="委托的定义和使用："></a>委托的定义和使用：</h4><ul>
<li><p>作用</p>
<ul>
<li><p>把方法作为函数来进行传递，用到委托。委托是一个类型，这个类型可以赋值一个方法的引用。</p>
</li>
<li><p>C# 的委托通过 <code>delegate</code> 关键字来声明。</p>
</li>
</ul>
</li>
<li><p>声明委托</p>
<ul>
<li><p>（1） <code>delegate void MyDelegate1( int x )</code></p>
</li>
<li><p>（2） <code>delegate void MyDelegate2&lt;T&gt;( T x )</code></p>
</li>
</ul>
</li>
<li><p>使用委托</p>
<ul>
<li><p>（1） <code>MyDelegate1 mydelegate = new MyDelegate( func )</code></p>
</li>
<li><p>（2） <code>MyDelegate1 mydelegate = func</code></p>
</li>
</ul>
</li>
</ul>
<p><strong>演示：</strong></p>
<pre><code class="csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BaseDelegate : MonoBehaviour
&#123;
    public delegate void ShowDelegate();
    public delegate void ShowDelegate2(int a, int b);
    public delegate int ShowDelegate3();

    public delegate void ShowDelegate4&lt;T&gt;(T a);


    void Start()
    &#123;
        ShowDelegate show = Show1;
        show();
        //show.Invoke();

        ShowDelegate2 show2 = Show2;
        show2(1, 2);


        ShowDelegate3 show3 = Show3;
        int a = show3();
        Debug.Log(a);

        ShowDelegate4&lt;string&gt; show4 = Show4;
        show4(&quot;Hello World&quot;);
    &#125;

    void Update()
    &#123;

    &#125;

    private void Show1()
    &#123;
        Debug.Log(&quot;Show1&quot;);
    &#125;

    private void Show2(int a, int b)
    &#123;
        Debug.Log(&quot;Show2 -&gt; a+b:&quot; + (a + b));

    &#125;

    private int Show3()
    &#123;
        return 1000;
    &#125;

    private void Show4(string a)
    &#123;
        Debug.Log(&quot;Show4 -&gt; a:&quot; + a);
    &#125;
&#125;
</code></pre>
<h4 id="系统内置-Action-委托"><a href="#系统内置-Action-委托" class="headerlink" title="系统内置 Action 委托"></a>系统内置 <code>Action</code> 委托</h4><h4 id="注意点："><a href="#注意点：" class="headerlink" title="注意点："></a>注意点：</h4><ul>
<li><p><code>Action</code> 委托至少 0 个参数，至多 16 个参数，无返回值</p>
</li>
<li><p><code>Action</code> 表示无参，无返回值的委托</p>
</li>
<li><p><code>Action&lt; int, string&gt;</code> 表示有传入参数 int，string 无返回值的委托</p>
</li>
<li><p><code>Action&lt; int, string, bool&gt;</code> 表示有传入参数 int，string，bool 无返回值的委托</p>
</li>
<li><p><code>Action&lt; int, int, int, int&gt;</code> 表示有传入 4 个 int 型参数，无返回值的委托</p>
</li>
</ul>
<p><strong>演示：</strong></p>
<pre><code class="csharp">using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class SystemAction : MonoBehaviour
&#123;
    void Start()
    &#123;
        Action action1 = Show1;
        action1();

        Action&lt;int, int&gt; action2 = Show2;
        action2(1, 2);

        //Action&lt;
    &#125;

    void Update()
    &#123;

    &#125;

    void Show1()
    &#123;
        Debug.Log(&quot;Show1&quot;);
    &#125;

    void Show2(int arg1, int arg2)
    &#123;
        Debug.Log(&quot;Action:&quot; + (arg1 + arg2));
    &#125;
&#125;
</code></pre>
<h4 id="系统内置-Func-委托"><a href="#系统内置-Func-委托" class="headerlink" title="系统内置 Func 委托"></a>系统内置 <code>Func</code> 委托</h4><h4 id="什么是-Func-委托："><a href="#什么是-Func-委托：" class="headerlink" title="什么是 Func 委托："></a>什么是 <code>Func</code> 委托：</h4><p>Func 是 .NET Framework 内置的带有返回值的泛型委托。</p>
<h4 id="注意点：-1"><a href="#注意点：-1" class="headerlink" title="注意点："></a>注意点：</h4><ul>
<li><p><code>System.Func</code> 可以不带参数，但是必须带一个返回值</p>
</li>
<li><p><code>System.Func</code> 若是调用的多个泛型的委托定义，最后的参数的数据类型是函数的返回值类型 需要保持一致；非最后一个泛型T的声明 需要与实现函数的参数个数及类型保持一致</p>
</li>
</ul>
<p><strong>演示：</strong></p>
<pre><code class="csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System;

public class SystemFunc : MonoBehaviour
&#123;
    void Start()
    &#123;
        Func&lt;string&gt; func1 = Show1;
        string a =  func1();
        Debug.Log(a);

        //Func&lt;string, int&gt; func2 = Show2;
        Func&lt;int,string&gt; func2 = Show2;
        string b =  func2(1000);
        Debug.Log(b);

        //Func&lt;
    &#125;

    void Update()
    &#123;

    &#125;

    string Show1()
    &#123;
        return &quot;Show1&quot;;
    &#125;

    //int Show2(string a)
    //&#123;
    //    return int.Parse(a);
    //&#125;

    string Show2(int a)
    &#123;
        return a.ToString();
    &#125;
&#125;
</code></pre>
<h4 id="匿名方法、event-事件、多播委托"><a href="#匿名方法、event-事件、多播委托" class="headerlink" title="匿名方法、event 事件、多播委托"></a>匿名方法、event 事件、多播委托</h4><h4 id="什么是匿名方法："><a href="#什么是匿名方法：" class="headerlink" title="什么是匿名方法："></a>什么是匿名方法：</h4><ul>
<li>没有名字的方法称之为匿名方法</li>
</ul>
<h4 id="什么是-Event-事件："><a href="#什么是-Event-事件：" class="headerlink" title="什么是 Event 事件："></a>什么是 Event 事件：</h4><ul>
<li><p>event 事件本身就是一种委托，只是该委托只能作为类的成员，且不可在类外进行调用</p>
</li>
<li><p>注意点</p>
<ul>
<li>（1）event 事件 只允许作为类的成员变量 且仅在类的内部使用才可以，外部不得直接调用。</li>
</ul>
</li>
</ul>
<h4 id="什么是多播委托："><a href="#什么是多播委托：" class="headerlink" title="什么是多播委托："></a>什么是多播委托：</h4><ul>
<li><p>在 C# 语言中多播委托是指在一个委托中注册多个方法，在注册方法时可以在委托中使用 加号运算符 或者 减号运算符 来实现添加或者撤销方法</p>
</li>
<li><p>注意点</p>
<ul>
<li><p>+&#x3D; &amp; -&#x3D;</p>
</li>
<li><p>委托属于引用类型，引用类型的默认值是 null，直接使用的话会报错空异常；所以在使用之前需要先判断委托对象（引用对象）是否为空</p>
</li>
</ul>
</li>
</ul>
<p><strong>演示：</strong></p>
<pre><code class="csharp">
</code></pre>
<hr>

        <!-- 分类文章 -->
        
      </div>
      <div class="post-content-inner-space">
        
          <div class="space-toc-main animate__animated  animate__fadeInUp">
            <ol class="space-toc"><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#%E5%A7%94%E6%89%98"><span class="space-toc-text">委托</span></a><ol class="space-toc-child"><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E5%A7%94%E6%89%98%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="space-toc-text">委托的定义和使用：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%86%85%E7%BD%AE-Action-%E5%A7%94%E6%89%98"><span class="space-toc-text">系统内置 Action 委托</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9%EF%BC%9A"><span class="space-toc-text">注意点：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%86%85%E7%BD%AE-Func-%E5%A7%94%E6%89%98"><span class="space-toc-text">系统内置 Func 委托</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Func-%E5%A7%94%E6%89%98%EF%BC%9A"><span class="space-toc-text">什么是 Func 委托：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9%EF%BC%9A-1"><span class="space-toc-text">注意点：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E3%80%81event-%E4%BA%8B%E4%BB%B6%E3%80%81%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98"><span class="space-toc-text">匿名方法、event 事件、多播委托</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="space-toc-text">什么是匿名方法：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Event-%E4%BA%8B%E4%BB%B6%EF%BC%9A"><span class="space-toc-text">什么是 Event 事件：</span></a></li><li class="space-toc-item space-toc-level-4"><a class="space-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98%EF%BC%9A"><span class="space-toc-text">什么是多播委托：</span></a></li></ol></li></ol></li></ol>
           </div>
        
      </div>
   </div>
    <!-- 评论 -->
    
  </div>
</article>
  </div>
</div>



<!-- 如果是home模式的话，不在首页就显示footer，如果不是home模式的话 所有都显示footer -->

  <div class="footer-outer animate__animated  animate__fadeInUp">
    <div class="footer-inner">
    <div class="footer-text">
    <p>Power by <a target="_blank" rel="noopener" href="http://hexo.io/">Hexo</a> Theme by <a target="_blank" rel="noopener" href="https://github.com/FuShaoLei/hexo-theme-white">White</a> Player by <a target="_blank" rel="noopener" href="https://github.com/Morikiiii">Morikiiii</a></p>

    </div>
    <div class="footer-contact">
    <ul class="footer-ul">
        
        <li class="footer-li">
            <a href="https://github.com/Morikiiii" target="_blank">
                <i class="ri-github-line"></i>
            </a>
        </li>
        
        <li class="footer-li">
            <a href="mailto:Morikiiii@163.com" target="_blank">
                <i class="ri-mail-line"></i>
            </a>
        </li>
        
        <li class="footer-li">
            <a href="https://Morikiiii.github.io" target="_blank">
                <i class="ri-skull-2-line"></i>
            </a>
        </li>
        
    </ul>
    </div>
    </div>
</div>






<script src="/js/white.js"></script>



    
      
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>

      <script>hljs.initHighlightingOnLoad();</script>
    

</body>
</html>
